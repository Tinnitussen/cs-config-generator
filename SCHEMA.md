# CS2 Config Schema Documentation

This document defines the JSON schema used for all command configuration files in this project. The goal is to create a clear separation between raw data extracted from the game and the curated data used to build the user interface.

## Data Source

The JSON schema files are generated by the Command Processing Pipeline (see `PIPELINE.md`). The pipeline transforms raw CS2 console data into structured JSON that powers the application's UI.

**Location**: `CSConfigGenerator/wwwroot/data/commandschema/all_commands.json`

**Note**: This file is generated automatically. Manual edits should be made cautiously as they will be overwritten when the pipeline runs again.

---

## Common Command Structure

Every command object in a JSON configuration file follows this base structure. The `uiData` object is the only part that changes based on the command's `type`.

| Property      | Type   | Description                                       |
| :------------ | :----- | :------------------------------------------------ |
| `command`     | String | The exact name of the console command or variable. |
| `consoleData` | Object | Contains raw, unmodified data from the console.   |
| `uiData`      | Object | Contains curated data for building the UI.        |

### `consoleData` Object

This object serves as the "source of truth," containing only data parsed directly from the game's console. It has the following structure:

```json
"consoleData": {
  "sourcedAt": "2025-07-29T05:49:01Z", // ISO 8601 timestamp for when this data was pulled from the game console
  "defaultValue": "raw_value_from_console (string or null)",
  "flags": [ "flag1", "flag2" ],
  "description": "The raw description text from the console.",
}
````

-----

## `uiData` Object Structure

The `uiData` object is designed to be flexible and cater to the specific needs of different command types. This is achieved through a class hierarchy where a base `UiData` class holds the common properties, and concrete subclasses add the properties that are specific to that command type.

### Common Properties

All `uiData` objects, regardless of their type, will have the following properties:

| Property         | Type    | Description                                       |
| :--------------- | :------ | :------------------------------------------------ |
| `label`          | String  | The user-friendly name for the command.           |
| `helperText`     | String  | A description of the command's purpose.           |
| `type`           | String  | The type of the command (e.g., "bool", "int", "float"). |
| `requiresCheats` | Boolean | Whether the command requires `sv_cheats` to be enabled. |

### Type-Specific Properties

Depending on the `type` of the command, the `uiData` object will have additional properties.

#### For `type: "bool"`

| Property       | Type    | Description                   |
| :------------- | :------ | :---------------------------- |
| `defaultValue` | Boolean | The default value of the command. |

#### For `type: "int"`

| Property       | Type   | Description                   |
| :------------- | :----- | :---------------------------- |
| `defaultValue` | Int    | The default value of the command. |
| `range`        | Object | The range of allowed values.  |

#### For `type: "color"`

| Property       | Type   | Description                   |
| :------------- | :----- | :---------------------------- |
| `defaultValue` | String | A space-separated string of numbers representing the color (e.g., "R G B"). |

#### For `type: "uint32"`

| Property       | Type   | Description                   |
| :------------- | :----- | :---------------------------- |
| `defaultValue` | Int    | The default value of the command. |

#### For `type: "uint64"`

| Property       | Type   | Description                   |
| :------------- | :----- | :---------------------------- |
| `defaultValue` | Int    | The default value of the command. |

#### For `type: "vector2"`

| Property       | Type   | Description                   |
| :------------- | :----- | :---------------------------- |
| `defaultValue` | String | A space-separated string of two numbers (e.g., "X Y"). |

#### For `type: "vector3"`

| Property       | Type   | Description                   |
| :------------- | :----- | :---------------------------- |
| `defaultValue` | String | A space-separated string of three numbers (e.g., "X Y Z"). |
| `range`        | Object | The range of allowed values.  |

#### For `type: "float"`

| Property       | Type   | Description                   |
| :------------- | :----- | :---------------------------- |
| `defaultValue` | Float  | The default value of the command. |
| `range`        | Object | The range of allowed values.  |

#### For `type: "string"`

| Property       | Type   | Description                   |
| :------------- | :----- | :---------------------------- |
| `defaultValue` | String | The default value of the command. |

#### For `type: "enum"`

| Property       | Type   | Description                        |
| :------------- | :----- | :--------------------------------- |
| `defaultValue` | String | The default value of the command.      |
| `options`      | Object | The available options for the command. |

#### For `type: "command"`

Commands represent console actions rather than configurable variables. They may accept arguments.

| Property    | Type  | Description                                                                                      |
| :---------- | :---- | :----------------------------------------------------------------------------------------------- |
| `arguments` | Array | An array of argument definitions. Empty by default; can be manually populated for known commands. |

#### For `type: "bitmask"`

| Property       | Type   | Description                        |
| :------------- | :----- | :--------------------------------- |
| `defaultValue` | Int    | The default value of the command.      |
| `options`      | Object | The available options for the command. |

#### For `type: "unknown"`

This type is used for commands that appear to be numeric but cannot be definitively classified as `int` or `float` from the console data alone. The Command Processing Pipeline (see `PIPELINE.md`) refines these types by analyzing real-world config files.

| Property       | Type   | Description                   |
| :------------- | :----- | :---------------------------- |
| `defaultValue` | Int or Float | The default value of the command. |

---

## Related Documentation

- **[PIPELINE.md](PIPELINE.md)** - Complete documentation on how these JSON files are generated from CS2 console data
- **[README.md](README.md)** - Main application overview and setup instructions
- **[PROPOSAL.md](PROPOSAL.md)** - Technical rationale for the class hierarchy approach used in the C# models
