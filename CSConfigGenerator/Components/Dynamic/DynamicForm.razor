@using CSConfigGenerator.Models
@using CSConfigGenerator.ViewModels
@using CSConfigGenerator.Services
@inject IConfigStateService ConfigState

@if (Commands is not null)
{
    foreach (var command in Commands)
    {
        if (!HideFromDefaultView || !command.UiData.HideFromDefaultView)
        {
            var viewModel = new SettingViewModel(command, ConfigState);
            <DynamicInput ViewModel="viewModel" />
        }
    }
}

@code {
    [Parameter]
    public IEnumerable<CommandDefinition>? Commands { get; set; }
    
    [Parameter]
    public bool HideFromDefaultView { get; set; } = true;
}